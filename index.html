<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sorpresa 游눞</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  background:#05020f;
  color:white;
  font-family:system-ui;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  height:100vh;
  width:100vw;
}

/* Estrellas */
.star{
  position:absolute;
  width:2px;
  height:2px;
  background:#cfc9ff;
  border-radius:50%;
  opacity:0.2;
  will-change:opacity, transform;
  animation-name:twinkle;
  animation-iteration-count:infinite;
  animation-timing-function:ease-in-out;
}
@keyframes twinkle{
  0%{opacity:0.15; transform:scale(0.85)}
  50%{opacity:1; transform:scale(1.25)}
  100%{opacity:0.15; transform:scale(0.95)}
}

/* luna */
.moon{
  position:absolute;right:5vw;top:5vh;
  width:20vw;height:20vw;border-radius:50%;
  background:radial-gradient(circle,#fff,#bfb8ff);
  box-shadow:0 0 5vw #9f8cff;
}

/* inicio */
.start{z-index:6;text-align:center;transition:.45s}
.start.fade{opacity:0;pointer-events:none}
.start h1{
  font-size:7vw;
  letter-spacing:2px;
  color:#f3d8ff;
  text-shadow:0 0 1vw #b46cff,0 0 2vw #7a3cff;
  margin-bottom:2vh;
}
.line{
  width:45vw;height:0.5vh;margin:2vh auto 4vh;
  background:linear-gradient(90deg,transparent,#ff6aa8,transparent);
  box-shadow:0 0 0.5vw #ff6aa8;border-radius:10px;
}

/* coraz칩n inicial */
.heart{
  width:15vw;height:15vw;
  position:relative;
  margin:auto;
  transform:rotate(-45deg);
  background:#a455d6;
  cursor:pointer;
  box-shadow:0 0 2vw #b46cff,0 0 4vw #7a3cff;
  animation:pulse 1.4s infinite;
  transition:opacity 1.2s ease, transform 1.5s ease;
}
.heart.fade{opacity:0;pointer-events:none}
.heart:before,.heart:after{
  content:"";position:absolute;width:100%;height:100%;background:#a455d6;border-radius:50%;
}
.heart:before{top:-50%;left:0}
.heart:after{left:50%;top:0}
@keyframes pulse{0%,100%{transform:rotate(-45deg) scale(1)}50%{transform:rotate(-45deg) scale(1.08)}}

/* carta */
.letterWrap{
  position:absolute;inset:0;
  display:flex;align-items:center;justify-content:center;
  pointer-events:none;opacity:0;transition:.25s;z-index:7;
}
.letterWrap.show{pointer-events:auto;opacity:1}
.cardArea{
  width:80vw;height:50vw;border-radius:5vw;
  display:flex;align-items:center;justify-content:center;
  background:linear-gradient(180deg,rgba(120,60,150,.14),rgba(18,7,25,.45));
  box-shadow:0 2vw 5vw rgba(180,80,220,.18),0 0 7vw rgba(180,80,220,.06) inset;
  cursor:pointer;
  transition:opacity 2.5s ease,transform 2.5s ease;
}
.cardArea .emoji{font-size:25vw}
.cardArea.fade{opacity:0;transform:scale(.92);pointer-events:none}

/* contador */
.count{
  position:absolute;top:50%;left:50%;
  transform:translate(-50%,-40%);
  font-size:25vw;font-weight:900;
  color:#d49cff;opacity:0;
  -webkit-text-stroke:0.5vw #f3d8ff;
  text-shadow:0 0 1vw #d49cff,0 0 2vw #b46cff,0 0 5vw #7a3cff;
}

/* t칤tulo */
.title{
  position:absolute;
  top:10%;
  width:100%;
  text-align:center;
  font-family:"Playfair Display",serif;
  font-weight:700;
  font-size:10vw;
  letter-spacing:1vw;
  line-height:1.05;
  background:linear-gradient(180deg,#f3d8ff,#c58cff,#8c45ff);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  opacity:0;
  transition:.7s;
}
.title.show{opacity:1;}

/* tulipanes M츼S GRANDES */
.flowers{
  position:absolute;
  bottom:0;left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:4vw;
  font-size:15vw; /* aumentado */
  opacity:0;
  transition:1.2s;
}
.flowers.show{opacity:1;}

/* CUADRO M츼S GRANDE Y TEXTO MAYOR */
.messageBox{
  position:absolute;
  top:55%;
  left:50%;
  transform:translate(-50%,-50%);
  width:75vw;
  max-width:1050px;
  min-height:18vw;
  padding:4vw;
  background:rgba(255,255,255,0.26);
  border-radius:1.5vw;
  text-align:center;
  font-family:"Times New Roman", serif;
  font-size:3.2vw; /* aumentado */
  opacity:0;
  transition:opacity 1s ease;
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
}
.messageBox.show{opacity:1;}

.__finalContainer{ position:fixed; inset:0; pointer-events:none; z-index:9999; }
.__finalSmall{ position:absolute; left:0; top:0; transform-origin:center center; transition: transform 1.1s cubic-bezier(.2,.8,.2,1), opacity 1.2s ease; font-size:2.2vw; text-align:center; opacity:0;}
</style>
</head>
<body>

<div class="moon"></div>
<div class="title" id="title">FELIZ<br>CUMPLEA칌OS<br>CHELY</div>
<div class="count" id="count">3</div>

<div class="flowers" id="flowers">
  <div>游꺙</div><div>游꺙</div><div>游꺙</div>
  <div>游꺙</div><div>游꺙</div><div>游꺙</div>
</div>

<div class="messageBox" id="messageBox">
"Y si fueras m칤a <br>
Te llenar칤a todo el d칤a de sonrisas<br>
Hasta en mis sue침os tu boca presumir칤a<br>
Qui칠n dir칤a<br>
A d칩nde llegar칤a<br>
Y porque fueras m칤a<br>
Mi alma al diablo yo seguro vender칤a<br>
Diez mil kil칩metros descalzo correr칤a<br>
Todo dar칤a<br>
Porque fueras m칤a"<br>
</div>

<div class="letterWrap" id="letterWrap">
  <div class="cardArea" id="cardArea"><div class="emoji">游눏</div></div>
</div>

<div class="start" id="start">
<h1>TOCA PARA ABRIR 游봃</h1>
<div class="line"></div>
<div class="heart" id="heart"></div>
</div>

<!-- M칔SICA -->
<audio id="bgMusic" src="AMOR DE CINE-HUMBE.mpeg"></audio>

<script>

/* estrellas */
for(let i=0;i<160;i++){
  const s=document.createElement('div');
  s.className='star';
  s.style.left=Math.random()*100+'vw';
  s.style.top=Math.random()*100+'vh';
  s.style.animationDuration=(1.2+Math.random()*3)+'s';
  document.body.appendChild(s);
}

const heart=document.getElementById('heart');
const start=document.getElementById('start');
const letterWrap=document.getElementById('letterWrap');
const cardArea=document.getElementById('cardArea');
const count=document.getElementById('count');
const flowers=document.getElementById('flowers');
const title=document.getElementById('title');
const messageBox=document.getElementById('messageBox');
const music=document.getElementById('bgMusic');

heart.onclick=()=>{
  heart.style.animation='none';
  heart.classList.add('fade');
  start.classList.add('fade');
  setTimeout(()=>letterWrap.classList.add('show'),160);
};

cardArea.onclick=()=>{
  cardArea.classList.add('fade');
  let n=3;
  count.style.opacity=1;
  count.textContent=n;

  const id=setInterval(()=>{
    n--;
    if(n>0){
      count.textContent=n;
      if(n===1){
        music.volume=0.8;
        music.play().catch(()=>{});
      }
    }else{
      clearInterval(id);
      count.style.opacity=0;
      flowers.classList.add('show');
      title.classList.add('show');
      messageBox.classList.add('show');
    }
  },1000);
};

/* CORAZ칍N FINAL M츼S REDONDO */
(function(){
document.addEventListener('click',()=>{
if(!title.classList.contains('show'))return;

const container=document.createElement('div');
container.className='__finalContainer';
document.body.appendChild(container);

const total=320;
const scale=0.55; /* reducido */
for(let i=0;i<total;i++){
const t=(i/total)*Math.PI*2;
let x=16*Math.pow(Math.sin(t),3);
let y=13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t);
x*=scale;
y*=scale*0.85; /* ajustado para redondear */

const el=document.createElement('div');
el.className='__finalSmall';
el.textContent='游눞';
el.style.left=`calc(50vw + ${x}vw)`;
el.style.top=`calc(50vh - ${y}vh)`;
el.style.opacity=1;
container.appendChild(el);

setTimeout(()=>{
const angle=Math.random()*Math.PI*2;
const dist=30+Math.random()*40;
el.style.transform=`translate(${Math.cos(angle)*dist}vw,${Math.sin(angle)*dist}vh)`;
el.style.opacity=0;
},1000);
}

setTimeout(()=>container.remove(),2500);

});
})();
</script>
</body>
</html>
